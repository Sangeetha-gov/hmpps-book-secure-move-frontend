{% extends "layouts/govuk.njk" %}

{% block beforeContent %}
  {{ super() }}

  {% if backLink %}
    {{ govukBackLink({
      text: t("actions:back"),
      href: backLink
    }) }}
  {% endif %}
{% endblock %}

{% block content %}
  {% if errors.errorList.length %}
    {{ govukErrorSummary({
      titleText: "There is a problem with this page",
      errorList: errors.errorList
    }) }}
  {% endif %}

  <header class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-xl">
        {{ t(options.heading) }}
      </h1>
    </div>
  </header>

  <form method="post">
    <input type="hidden" name="x-csrf-token" value="{{ getLocal('csrf-token') }}">

    {% block beforeFields %}{% endblock %}

    {% block fields %}
      {% for key, fieldsOptions in options.fields %}
        {% if fieldsOptions.component and not fieldsOptions.skip %}
          {{ callAsMacro(fieldsOptions.component)(fieldsOptions) }}
        {% endif %}
      {% endfor %}
    {% endblock %}

    {{ govukButton({
      text: t(options.buttonText or "actions:continue")
    }) }}
  </form>
{% endblock %}
